# 第一节 · 刷新认知 · 第一道程序

废话不多说，我们今天直接来写一个行星发动机的控制程序。

……

开玩笑的啦，我们还没有行星发动机，这程序其实是没法子写的啦。

不过，我们可以写个仿真的“模拟程序”——它只会在你屏幕上生成“春节十二响”控制程序的输出文本。

（如果不了解行星发动机与“春节十二响”的梗，强烈建议你去看看电影《流浪地球》）

虽然这看起来挺简单的，但要是真的写了出来、运行它，你说不定也会心中一阵澎湃——我写了个“春节十二响”！

那么，动工吧！

```cpp
#include <iostream>
using namespace std;
int main(){
    cout << "程序加载完毕，发动机正在启动..." << endl;
    cout << "硬件系统自检完成..." << endl;
    cout << "撞针系统自检完成..." << endl;
    cout << "发动机正在启动..." << endl;
    cout << "行星转向发动机正在启动中..." << endl;
    cout << "全部就绪！已启动！" << endl;
    return 0;
}
```

哇，这么短？！

老实说，这其实是简化后的程序，但足够我们学习了。

将程序按照[这篇文章介绍的方法](https://github.com/langyo/this-is-the-c-s-world/tree/ab569e0f9b3139aeea5fe9954b5744f6c57af78a/di-yi-dan-di-yi-zhang-xin-de-zheng-cheng/README.md)运行，你会看见控制台中输出了一些文字，这些文字和刚刚程序中的一些内容可以说是一模一样：

> 图

下面我们就需要开始了解这个程序的各个组成了。相信我，这真的很简单！

程序，说白了就是将你想要让计算机做的事情具体地写成一道又一道的步骤，计算机逐个执行你给它的步骤。

要让一个程序运行，我们需要先给它写一个名为 main 的东西。它既是程序的起点，也可以是程序的终点。

```cpp
int main(){
    return 0;
}
```

我们暂且不要理会那些奇怪的符号和单词，仅先关注这一块程序本身。这个程序比刚刚给出的示例程序还要简洁，只有三行，但它们却是整个程序最核心的部分——没有它，你连程序的入口都将找不到！（不考虑交叉编译）

main 前面的 int 与后面的 “\(\)” 先不要管，后面会讲到。花括号 “{}” 内便容纳着我们要计算机做的各种事情。一般情况下，每一句的末尾都应当加一个分号。

```cpp
int main(){
    cout << "这是一句话。" << endl;
    cout << "这是另一句话。" << endl;
    return 0;
}
```

现在我们向其中加一些新的操作吧！看到了刚开头以及上方那一连串开头为 cout 的语句，你也许已经猜到了它的用处。是的，它是用来输出内容的，它能忠实地为你输出你想输出的任何字符串。

例如，我们可以这么写：

```cpp
cout << "八百标兵奔北坡" << endl << "北坡炮兵并排跑";
```

在 cout 后紧跟两个小于号“&lt;&lt;”，然后写下你要输出的内容，用双引号包裹。如果想再输出些什么，你就再跟两个小于号“&lt;&lt;”，然后继续写下去。其中的 endl 有换行的意思，虽然它的意义其实远不止于此，不过简单起见，我们姑且先把它当成一个换行的标志吧。别忘记末尾的分号！

至此，我们便快要完成第一道程序了，但还需要看看之前绕过去没讲的东西。

首先是 main 附近多出来的东西。main 实质上是个函数，有点像数学中的函数，但又与数学中的函数有很大的不同。

我们在数学中见到的函数是长这么些个样的（只是示例，看不懂也没关系）：

> y = 3x
>
>  f\(x\) = x² + 2x + 3
>
>  h\(t\) = 3sin\(2t\) + 2cos\(5t\) - 9

它们都需要也必须要一个数字作为自变量（例如 x），经过某条数学公式计算后，得到的结果就是这个自变量对应的因变量（例如 y）。

而在计算机中的函数摆脱了各种的限制：你可以有任意多的自变量（甚至可以一个都没有），你也可以选择是否有因变量（可以有，也可以没有）。

想象一个不要 x 的 y 函数，或要 x 却不会出 y 的函数，这好像已经不能称之为函数了吧？

不必惊讶。实际上，像这样“缺胳膊少腿”的函数在程序员的世界中到处都是。在信息学中，我们习惯上称输入给函数的自变量 x 为**参数**，称这个函数计算好得到的数字 y 为**返回值**。如果函数没有返回值，我们还可以称呼它为**子程序**，这意味着它并非是作为一个_函数_来使用的。刚刚的 _main_ 函数其实就是一个子程序，因为它没有接收任何的数值（main 后面的小括号是空的）。

说了那么多，回归到我们刚刚的问题。为什么作为入口的 main 也是一个函数呢，难道我写个程序都相当于写个函数么？这个 main 函数有谁会使用吗？

答案都是肯定的。确实有什么东西在把你的程序当成函数来用，那就是这个程序依附着的操作系统。你的机器保存的各种程序，几乎都是依赖于操作系统运行的，就连开头的示例程序也不例外。操作系统在接到要运行某个程序的指令后（不论是由你双击某个程序的图标，还是别的方法），它会立即为这个程序开辟一片空间、让它运行，直到程序的结束。

有一行代码我刚刚一直没讲，现在也是时候拿出来看看了，它和操作系统运行普通程序的机制有很大关系：

```cpp
return 0;
```

这一句有什么含义么？

return 有“返回”的意思。后边紧跟着数字 0 与分号，似乎是想让这个 _main 函数_ 向使用它的东西提供一个返回值。

操作系统判断程序结束的依据之一，就是程序的 main 函数向操作系统返回了一个值。如果这个值为 0，就意味着则个程序是正常结束的，操作系统就不需要做任何额外的事情；如果这个值不为 0（无论是什么数字），都表示这个程序不是正常结束的，这时候你的屏幕上大概就会弹出警告框了。

我们的程序当然得顺利地跑完，自然就得返回 0 了。

还有两样东西没有讲到。这算得上是 C++ 语言与其它语言在代码管理体制上最不同的地方了：

```cpp
#include <iostream>
using namespace std;
```

没有这两句，先前的 cout 与 endl 就没办法使用！

为什么呢？因为 cout 其实并不是 C++ 语言本体就有的东西，而是从一个名为标准库的玩意来的。标准库是 C++ 的重要组成部分，它不仅提供了像 cout 这样的用于向屏幕输出文本的工具，还拥有许多重要的内容供我们使用。随着学习的进行，我们将能接触到更多的标准库工具。

所以，这两句便是动用标准库的代码。前一句是一个预编译命令，它声明我们要使用一个名为 iostream 的代码库，cout 就在这里头。后一句暂时不便展开讲解，现在你只需要直到它在拆开一个名为 std 的“包裹”，因为 cout 这些东西都被打包进这个 std “包裹”中了，我们得先拆开它才能直接使用 cout。

好了，现在你已经通过了第一道关卡，恭喜！

